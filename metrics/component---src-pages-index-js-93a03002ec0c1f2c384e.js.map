{"version":3,"sources":["webpack:///./src/organisms/search-bar/index.js","webpack:///./src/particles/hooks.js","webpack:///./src/pages/index.js"],"names":["SearchBarInputContainer","styled","div","props","theme","colors","surface","nav","palette","background","IconSearch","Mobile","SearchBarInput","input","text","typography","fontFamily","SearchMobileInputContainer","IconArrowLeft","SearchMobileContainer","focused","Container","SearchResultItem","className","title","color","as","SearchResultGroup","children","bold","Text","SearchResultContainer","SearchBar","placeholder","_isMobile","useIsMobile","mobileInput","useRef","desktopInput","useState","setFocused","initialIsVisible","isComponentVisible","setIsComponentVisible","ref","handleHideDropdown","event","key","handleClickOutside","current","contains","target","useEffect","document","addEventListener","removeEventListener","useComponentVisible","resultRef","isResultVisible","setIsResultVisible","focusInput","focus","renderResults","onClick","e","IndexPage","Center","h1","h4","top","bottom","Row","prefix","medium","outlined","wrap","tags","Grid","full","min","gap","List","auto","header","footer","to","Array","from","length","v","k","Item","logo","facebook","xs","action","navigate"],"mappings":"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","file":"component---src-pages-index-js-93a03002ec0c1f2c384e.js","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\"\nimport PropTypes from \"prop-types\"\nimport styled from \"styled-components\"\nimport { IconSearch, IconArrowLeft } from \"@icons\"\nimport { useIsMobile, Mobile, Desktop } from \"@breakpoints\"\nimport Text from \"@particles/text\";\nimport { useComponentVisible } from \"@particles/hooks\"\n\n\nconst propTypes = {\n  \n}\n\n\nconst SearchBarInputContainer = styled.div`\n  display: flex;\n  background: ${props => props.theme.colors.surface};\n  padding: ${props => props.nav ? \"1em\" : \"1.25em 1.5em\"};\n  border-radius: 1.5em;\n  align-items: center;\n\n  transition: background 150ms ease-out;\n\n  :hover {\n    background: ${props => props.theme.palette.background[\"300\"]};\n    cursor: pointer;\n  }\n\n  ${IconSearch} {\n    height: 1.1875em;\n  }\n\n  ${Mobile} {\n    width: 100%;\n  }\n\n  \n\n`\n\nconst SearchBarInput = styled.input`\n\n  width: ${props => props.nav ? 15.625 : 22.5}em;\n  background: transparent;\n  border: none;\n  outline: none;\n  color: ${props => props.theme.palette.text['200']};\n  font-size: ${props => props.nav ? 0.875 : 1}em;\n  font-family: ${props => props.theme.typography.input.fontFamily};\n  line-height: 1.1875em;\n  margin-right: 0.625em;\n  padding: 0;\n\n  :hover {\n    cursor: pointer;\n  }\n\n  ${Mobile} {\n    width: auto;\n    flex: 1;\n  }\n`\nconst SearchMobileInputContainer = styled(SearchBarInputContainer)`\n\n  border-radius: 0;\n  box-shadow: 0 8px 16px rgba(0,0,0,0.1);\n  position: sticky;\n  top: 0;\n  \n  :hover {\n    background: ${props => props.theme.palette.background[\"200\"]};\n  }\n\n  ${SearchBarInput} {\n    margin-left: 1.5em;\n  }\n\n  ${IconArrowLeft} {\n    position: relative;\n    ::after {\n      content: \"\";\n      width: 2.5em;\n      height: 2.5em;\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n\n    }\n  }\n`\n\nconst SearchMobileContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: white;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  transform: ${({focused}) => focused ? \"translateY(0)\" : \"translateY(100vh)\"};\n  transition: transform 200ms ease-out;\n  overflow-y: scroll;\n\n`\n\nconst Container = styled.div`\n  dislay: flex;\n  flex-direction: column;\n  width: auto;\n  position: relative;\n  ${Mobile} {\n    width: 100%;\n  }\n\n`\n\n\n\n\n\n\n\nconst SearchResultItemComponent = ({className, title = \"\", ...rest}) => {\n\n  return (\n    <li className={className}><Text color={\"200\"} as=\"div\">{title}</Text></li>\n  )\n}\n\nconst SearchResultItem = styled(SearchResultItemComponent)`\n\n  transition: background 150ms ease-out;\n  cursor: pointer;\n \n  :hover {\n    background: ${props => props.theme.palette.background['300']};\n  }\n\n  :last-child {\n    border-radius: 0 0 1.5em 1.5em;\n  }\n\n  ${Mobile} {\n    :last-child {\n      border-radius: 0;\n    }\n  }\n\n  \n  \n`\n\nconst SearchResultGroupComponent = ({className, title = \"\", children}) => {\n\n  return (\n    <div className={className}>\n      <Text bold color={\"200\"}>{title}</Text>\n      <ul>\n        {children}\n      </ul>\n    </div>\n  )\n}\n\nconst SearchResultGroup = styled(SearchResultGroupComponent)`\n\n  dislay: flex;\n  margin-top: 1em;\n\n  background: ${props => props.theme.colors.surface};\n  border-radius: 1.5em;\n  \n\n  ${Mobile} {\n    border-radius: 0;\n  }\n\n\n  ${Text} {\n    padding: 0.75em 1.5em;\n    pointer-events: none;\n\n  }\n  \n  ul {\n    margin: 0;\n    padding: 0;\n    list-style-type: none;\n  }\n`\n\nconst SearchResultContainer = styled.div`\n  position: absolute;\n  width: 100%;\n  transform: ${props => props.focused ? \"scaleY(1)\" : \"scaleY(0)\"};\n  transition: transform 100ms ease-in;\n  transform-origin: top center;\n  z-index: 5;\n`\n\n\n\n\n\nconst SearchBar = ({nav = false, placeholder}) => {\n  const _isMobile = useIsMobile();\n  const mobileInput = useRef(null);\n  const desktopInput = useRef(null);\n  const [focused, setFocused] = useState(false);\n  const {\n    ref: resultRef,\n    isComponentVisible: isResultVisible,\n    setIsComponentVisible: setIsResultVisible\n  } = useComponentVisible(false);\n\n  // useEffect(() => {\n  //   if(!isComponentVisible) {\n\n  //   }\n  // }, [isComponentVisible])\n\n  \n\n  const focusInput = () => {\n    \n\n    if(_isMobile) {\n      mobileInput.current.focus();\n      if(!focused) {\n        setFocused(true);\n      }\n    } else {\n      desktopInput.current.focus();\n    }\n    \n    setIsResultVisible(true);\n\n  };\n\n  const blurInput = (e) => {\n    setFocused(false);\n  }\n\n  const renderResults = () => {\n    return (\n      <>\n        <SearchResultGroup title={\"Metrics\"}>\n          <SearchResultItem title={\"MRR Growth Rate\"}/>\n          <SearchResultItem title={\"Monthly Sales\"}/>\n          <SearchResultItem title={\"Marketing Budget\"}/>\n        </SearchResultGroup>\n        <SearchResultGroup title={\"Metrics Comparison\"}>\n          <SearchResultItem title={\"MRR vs. ARR\"}/>\n          <SearchResultItem title={\"MRR vs. Revenue\"}/>\n          <SearchResultItem title={\"Batman vs. Superman\"}/>\n        </SearchResultGroup>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <Container focused={focused}>\n        <SearchBarInputContainer nav={nav} onClick={focusInput}>\n          <SearchBarInput nav={nav} placeholder={placeholder} ref={desktopInput}/>\n          <IconSearch/>\n        </SearchBarInputContainer>\n        {!_isMobile && \n          <SearchResultContainer ref={resultRef} focused={isResultVisible}>\n            {renderResults()}\n          </SearchResultContainer>\n        }\n      </Container>\n      {_isMobile && \n        <SearchMobileContainer focused={focused} onClick={focusInput}>\n          <SearchMobileInputContainer >\n            <IconArrowLeft onClick={blurInput}/>\n            <SearchBarInput placeholder={placeholder} ref={mobileInput}/>\n          </SearchMobileInputContainer>\n          {renderResults()}\n        </SearchMobileContainer>\n      }\n    </>\n  )\n}\n\nSearchBar.propTypes = propTypes\nexport default SearchBar","import React, {useEffect, useState, useRef } from \"react\";\n\nexport const useComponentVisible = (initialIsVisible) => {\n  const [isComponentVisible, setIsComponentVisible] = useState(\n    initialIsVisible\n  );\n  const ref = useRef(null);\n\n  const handleHideDropdown = (event) => {\n    if (event.key === \"Escape\") {\n      setIsComponentVisible(false);\n    }\n  };\n\n  const handleClickOutside = event => {\n    if (ref.current && !ref.current.contains(event.target)) {\n      setIsComponentVisible(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleHideDropdown, true);\n    document.addEventListener(\"click\", handleClickOutside, true);\n    return () => {\n      document.removeEventListener(\"keydown\", handleHideDropdown, true);\n      document.removeEventListener(\"click\", handleClickOutside, true);\n    };\n  });\n\n  return { ref, isComponentVisible, setIsComponentVisible };\n}","import React from \"react\"\n\nimport Layout from \"@organisms/layout\";\nimport Image from \"../components/image\"\nimport SEO from \"../components/seo\"\nimport Text from \"@particles/text\";\nimport Heading from \"@particles/heading\";\nimport SearchBar from \"@organisms/search-bar\";\nimport Tags from \"@molecules/tags\";\nimport Cards from \"@molecules/cards\"\nimport ServiceLogo from \"@atoms/service-logo\";\nimport { IconArrowRight } from \"@icons\";\nimport Link from \"@atoms/link\"\nimport {navigate } from \"gatsby\"\n\nconst IndexPage = () => (\n  <Layout>\n    <Layout.Center>\n\n      <Heading h1 color={\"400\"} palette={\"primary\"}>Welcome!</Heading>\n      <Heading h4 background top={1.5} bottom={2}>MetricHQ is your place for everything metrics and KPIs</Heading>\n      <div><SearchBar placeholder={\"What are you looking for?\"}/></div>\n      \n      <Layout.Row top={1}><Tags prefix={<Text medium>Trending: </Text>} outlined wrap={\"true\"} tags={[\"Finance\", \"Sales\", \"Marketing\", \"MRR\"]}></Tags></Layout.Row>\n      \n      <Layout.Grid top={9.5} full min={300} gap={1.5}>\n        <Cards.List auto header={\"Popular metrics\"} footer={<Link to=\"/\">SEE ALL METRICS <IconArrowRight/></Link>}>\n          {Array.from({length: 5}, (v,k) => {\n            return <Cards.List.Item key={`card-item-${k}`} logo={<ServiceLogo facebook xs/>} action={() => {navigate(\"/metric\")}}><Text color={\"200\"}>Revenue per Employee</Text> <Text color={\"200\"}>20 Metrics</Text></Cards.List.Item>\n          })}\n        </Cards.List>\n        <Cards.List auto header={\"Popular metric services\"} footer={<Link to=\"/\">SEE ALL SERVICES <IconArrowRight/></Link>}>\n          {Array.from({length: 5}, (v,k) => {\n            return <Cards.List.Item key={`card-item-2-${k}`} logo={<ServiceLogo facebook xs/>}><Text color={\"200\"}>Facebook</Text> <Text color={\"200\"}>20 Metrics</Text></Cards.List.Item>\n          })}\n        </Cards.List>\n      </Layout.Grid>\n\n    </Layout.Center>\n  </Layout>\n)\nexport default IndexPage\n"],"sourceRoot":""}